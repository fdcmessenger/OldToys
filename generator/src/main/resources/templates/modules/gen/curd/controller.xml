<?xml version="1.0" encoding="utf-8"?>
<template>
	<name>controller</name>
	<filePath>src/main/java/${packageName}/${moduleName}/web/${subModuleName}</filePath>
	<fileName>${ClassName}Controller.java</fileName>
	<content><![CDATA[
/**
 * Copyright &copy; 2012-2016 <a href="https://github.com/thinkgem/jeesite">JeeSite</a> All rights reserved.
 */
package ${packageName}.${moduleName}.web<#if subModuleName != "">.${subModuleName}</#if>;


import java.util.List;
import com.qs.web.page.PageKit;
import com.qs.web.page.PageInfoBT;
import ${packageName}.${moduleName}.entity<#if subModuleName != "">.${subModuleName}</#if>.${ClassName};
import ${packageName}.${moduleName}.service<#if subModuleName != "">.${subModuleName}</#if>.${ClassName}Service;
import com.qs.web.ajax.ResultGenerator;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ResponseBody;            
            
            
/**
 * ${functionName}Controller
 * @author ${functionAuthor}
 * @version ${functionVersion}
 */
@Controller
@RequestMapping(value = "/${urlPrefix}")
public class ${ClassName}Controller {

    @Autowired
    private ${ClassName}Service ${className}Service;
	
    @RequestMapping(value = {"list", ""})
    public String list() {
        return "modules/${viewPrefix}List";
    }
    @ResponseBody
    @RequestMapping(value = "listData")
    public PageInfoBT<${ClassName}> listData() {
        List<${ClassName}> l = this.${className}Service.findAllPaged();
        return PageKit.packForBT(l);
    }
    @RequestMapping(value = {"addForm"})
    public String add${ClassName}(Model model) {
        ${ClassName} bean = new ${ClassName}();
        model.addAttribute("bean", bean);
        return "modules/${viewPrefix}Form";
    }
            
    @RequestMapping(value = {"editForm"})
    public String edit${ClassName}(@RequestParam(name = "${className}Id") Integer ${className}Id, Model model) {
        ${ClassName} bean = this.${className}Service.findById(${className}Id);
        model.addAttribute("bean", bean);
        return "modules/${viewPrefix}Form";
    }
            
    @RequestMapping(value = "delete")
    @ResponseBody
    public Object delete(@RequestParam(name = "${className}Id") Integer ${className}Id) {
       this.${className}Service.deleteById(${className}Id);
        return ResultGenerator.genSuccessResult("删除${functionNameSimple}成功");
    }     
    @RequestMapping(value = "save")
    @ResponseBody
    public Object save(${ClassName} bean) {
        this.${className}Service.save(bean);
        return ResultGenerator.genSuccessResult("保存${functionNameSimple}成功");
    }         
                
}]]>
	</content>
</template>